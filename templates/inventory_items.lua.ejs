local nk = require("nakama")

local P = {}
P.reverse = {}

<% for(var itemKey in items) { var item = items[itemKey]; -%>
P["<%= item.itemKeyMd5 %>"] = {
  key = "<%= itemKey %>",
<% if (!!item.price) { -%>
  price = {
<% for(var priceKey in item.price) { var price = item.price[priceKey]; -%>
    {
      item = "<%= items[price.item].itemKeyMd5 %>",
      quantity = <%= price.quantity %>
    },
<% } -%>
  },
<% } -%>
<% if (!!item.fromSeeds) { -%>
  from_seeds = "<%= item.fromSeeds %>",
<% } -%>
<% if (!!item.toPlant) { -%>
  to_plant = "<%= item.toPlant %>",
<% } -%>
}

P.reverse["<%= itemKey %>"] = "<%= item.itemKeyMd5 %>"

<% } -%>
return P